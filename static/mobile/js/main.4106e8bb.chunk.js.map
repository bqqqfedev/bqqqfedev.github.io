{"version":3,"sources":["pages/mobile/multiplanet/index.js","pages/mobile/multiplanet/setName.js","reducers/reducer/index.js","store/configer.js","index.js","utils/xfetch.js","utils/mUtils.js"],"names":["moneyKeyboardWrapProps","CHECKPHONE","isIPhone","RegExp","test","window","navigator","userAgent","onTouchStart","e","preventDefault","isIphoneX","screen","height","width","secp256k1","require","jsSHA","HexadecimalStringDa","HexadecimalStringXiao","Multiplanet","props","_this","Object","_Users_ruochen_Documents_activity_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_8__","this","_Users_ruochen_Documents_activity_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_10__","_Users_ruochen_Documents_activity_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_11__","call","getPhone","pho","setState","phone","disabledCode","getVertiCode","vertiCode","verVerCode","getPassword","password","getInviteCode","inviteCode","changeToH","Array32","string64","i","length","sixteen","Math","floor","everyString","push","join","signPriv","tx","privkey","txBuff","Buffer","privkeyBuff","turnBack","sha3_1","u8a1","Uint8Array","update","getHash","result1","sigObj","sign","signBuffer","set","signature","recovery","getCodeMsg","_Users_ruochen_Documents_activity_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_7__","_Users_ruochen_Documents_activity_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default","a","mark","_callee","that","androidDeviceId","signMsg","params","codeRes","wrap","_context","prev","next","state","_Users_ruochen_Documents_activity_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_12__","randomString","randomNum","toLowerCase","type","mobile","deviceId","getVerCode","catch","err","antd_mobile_lib_toast__WEBPACK_IMPORTED_MODULE_6___default","info","sent","timegogo","stop","timeBack","setTimeout","backtimer","CodeTitle","clearTimeout","xFetch","method","body","then","res","Promise","resolve","reject","vertifyVertifyCode","console","log","vertifyInvitateCode","registerAccount","hideKeyboard","register","_ref2","_callee2","_this$state","verVerCodeRes","verInviCodeRes","paramsRegister","registerRes","_context2","document","style","overflow","documentElement","code","abrupt","parent","Number","history","pathname","token","_x","apply","arguments","download","location","href","changeType","editable","perNameTime","search","split","paramsName","id","title","link","createElement","rel","getElementsByTagName","appendChild","Array64String","Array64Number","Array32Number","j","number256","u8a","_this2","_this$state2","disabled","background","react__WEBPACK_IMPORTED_MODULE_14___default","className","antd_mobile_lib_list__WEBPACK_IMPORTED_MODULE_1___default","antd_mobile_lib_input_item__WEBPACK_IMPORTED_MODULE_3___default","placeholder","value","onBlur","onChange","onClick","maxLength","color","Component","SetName","getPerName","perName","doSome","paramstoken","verPerNameRes","nickname","setNickName","showmodal","headers","closeModal","scrollTop","noBrow","dwTitle","backgroundColor","visibility","react__WEBPACK_IMPORTED_MODULE_13___default","filter","initialState","data","init","rootReducer","combineReducers","dice","undefined","action","assign","__webpack_require__","d","__webpack_exports__","configureStore","createStoreWithMiddleware","applyMiddleware","thunk","createStore","r","global","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","n","react_dom__WEBPACK_IMPORTED_MODULE_1__","react_dom__WEBPACK_IMPORTED_MODULE_1___default","react_redux__WEBPACK_IMPORTED_MODULE_3__","_store_configer__WEBPACK_IMPORTED_MODULE_4__","react_router_dom__WEBPACK_IMPORTED_MODULE_5__","react_router_dom__WEBPACK_IMPORTED_MODULE_6__","history__WEBPACK_IMPORTED_MODULE_7__","_pages_mobile_multiplanet_index__WEBPACK_IMPORTED_MODULE_8__","_pages_mobile_multiplanet_setName__WEBPACK_IMPORTED_MODULE_9__","customHistory","createBrowserHistory","store","ReactDOM","render","path","component","getElementById","setUriParam","keys","keyPostfix","keyStr","slice","forEach","key","concat","encodeURIComponent","getUriParam","object","array","Array","index","hasOwnProperty","toQueryString","str","check404","status","check500","check200","clone","json","error","_x2","_xFetch","url","options","mergeUrl","defaultOptions","opts","_Users_ruochen_Documents_activity_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default","mode","credentials","_Users_ruochen_Documents_activity_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_3__","pragma","cache-control","Accept","Content-Type","JSON","stringify","race","fetch","Error","antd_mobile_lib_toast__WEBPACK_IMPORTED_MODULE_2___default","ceil","random","len","lens","chars","maxPos","charAt"],"mappings":"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","file":"static/mobile/js/main.4106e8bb.chunk.js","sourcesContent":["import React, { Component } from \"react\";\nimport \"../../../style/multiplanet.less\";\nimport { InputItem, List, Modal, Toast } from \"antd-mobile\";\nimport { xFetch } from \"../../../utils/xfetch\";\nimport {\n  randomString,\n  randomNum,\n  is_weixn,\n  is_inqq\n} from \"../../../utils/mUtils\";\n// import {browserHistory} from 'react-router';\n\nlet CHECKPHONE = /(^[0-9]{11}$)|(^\\S+@\\S+\\.\\S+$)/; //手机号验证正则\n\nconst isIPhone = new RegExp(\"\\\\biPhone\\\\b|\\\\biPod\\\\b\", \"i\").test(\n  window.navigator.userAgent\n);\nlet moneyKeyboardWrapProps;\nif (isIPhone) {\n  moneyKeyboardWrapProps = {\n    onTouchStart: e => e.preventDefault()\n  };\n}\n\nlet isIphoneX = false;\nif (isIPhone) {\n  if (window.screen.height === 812 && window.screen.width === 375) {\n    isIphoneX = true;\n  }\n}\n\nconst secp256k1 = require(\"secp256k1\");\nconst jsSHA = require(\"jssha\");\nconst HexadecimalStringDa = [\n  \"0\",\n  \"1\",\n  \"2\",\n  \"3\",\n  \"4\",\n  \"5\",\n  \"6\",\n  \"7\",\n  \"8\",\n  \"9\",\n  \"A\",\n  \"B\",\n  \"C\",\n  \"D\",\n  \"E\",\n  \"F\"\n];\nconst HexadecimalStringXiao = [\n  \"0\",\n  \"1\",\n  \"2\",\n  \"3\",\n  \"4\",\n  \"5\",\n  \"6\",\n  \"7\",\n  \"8\",\n  \"9\",\n  \"a\",\n  \"b\",\n  \"c\",\n  \"d\",\n  \"e\",\n  \"f\"\n];\n\nclass Multiplanet extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      phone: \"\",\n      vertiCode: \"\",\n      password: \"\",\n      inviteCode: \"\",\n\n      editable: true,\n      CodeTitle: \"发送验证码\",\n      backtimer: 60,\n      disabledCode: true,\n      type: \"mobile\"\n    };\n    this.timeBack = null;\n    this.perNameTime = null;\n  }\n\n  componentDidMount() {\n    //识别是否有邀请码，自动填写后不可修改\n    let { search } = this.props.location;\n    let params = search.split(\"=\")[0];\n    let paramsName = \"\";\n    if (params) {\n      paramsName = params.split(\"?\")[1];\n    }\n    let id = search.split(\"=\")[1];\n    if (id && paramsName === \"id\") {\n      this.setState({ editable: false, inviteCode: id });\n    }\n    document.title = \"币趣星球\";\n    let link = document.createElement(\"link\");\n    link.type = \"image/x-icon\";\n    link.rel = \"shortcut icon\";\n    link.href = \"superplanet.png\";\n    document.getElementsByTagName(\"head\")[0].appendChild(link);\n  }\n\n  //输入手机号\n  getPhone = pho => {\n    this.setState({\n      phone: pho,\n      disabledCode: true\n    });\n    if (pho && CHECKPHONE.test(pho)) {\n      this.setState({ disabledCode: false });\n    }\n  };\n  //输入验证码\n  getVertiCode = vertiCode => {\n    this.setState({ vertiCode: vertiCode, verVerCode: false });\n  };\n  //输入登录密码\n  getPassword = password => {\n    this.setState({ password });\n  };\n\n  //获取邀请码\n  getInviteCode = inviteCode => {\n    this.setState({ inviteCode });\n  };\n\n  //u8a=>string\n  changeToH = Array32 => {\n    let string64 = [];\n    for (let i = 0; i < Array32.length; i++) {\n      let sixteen = Math.floor(Array32[i] / 16);\n      //十位\n      let decade = HexadecimalStringXiao[sixteen];\n      //个位\n      let unit = HexadecimalStringXiao[Array32[i] - sixteen * 16];\n\n      //十位拼接个位\n      let everyString = decade + unit;\n      string64.push(everyString);\n    }\n    return string64.join(\"\");\n  };\n\n  //string=>u8a\n  turnBack(string64) {\n    let Array64String = string64.split(\"\");\n    let Array64Number = [];\n    let Array32Number = [];\n    //将64位字符串转化为长度为64的数字数组\n    for (let i = 0; i < Array64String.length; i++) {\n      for (let j = 0; j < 16; j++) {\n        if (\n          Array64String[i] === HexadecimalStringDa[j] ||\n          Array64String[i] === HexadecimalStringXiao[j]\n        ) {\n          Array64Number.push(j);\n        }\n      }\n    }\n    //将长度为64的数字数组转化为长度为32的数字数组\n    for (let i = 0; i < Array64Number.length; i += 2) {\n      let j = i + 1;\n      let number256 = Array64Number[i] * 16 + Array64Number[j];\n      Array32Number.push(number256);\n    }\n    let u8a = new Uint8Array(Array32Number.length);\n    u8a.set(Array32Number);\n    let backBuffer = new Buffer(u8a);\n    return backBuffer;\n  }\n\n  signPriv = (tx, privkey) => {\n    let data = tx;\n    //将交易信息变为buffer\n    let txBuff = new Buffer(data);\n    let privkeyBuff = this.turnBack(privkey);\n    let sha3_1 = new jsSHA(\"SHA3-256\", \"ARRAYBUFFER\");\n    let u8a1 = new Uint8Array(32);\n    sha3_1.update(txBuff);\n    u8a1 = sha3_1.getHash(\"ARRAYBUFFER\");\n    let result1 = new Buffer(u8a1);\n    //签名\n    let sigObj = secp256k1.sign(result1, privkeyBuff);\n    let signBuffer = new Uint8Array(65);\n    signBuffer.set(sigObj.signature);\n    signBuffer[64] = sigObj.recovery;\n    let signString = this.changeToH(signBuffer);\n    return signString;\n  };\n  //获取验证码\n  getCodeMsg = async () => {\n    //验证手机号正确与否\n    let { phone } = this.state;\n    if (phone && CHECKPHONE.test(phone)) {\n      let that = this;\n      let type = \"1\";\n      let pri_key =\n        \"8419da5018e43f2458bb7df5146044ac669696cf412bd0959282e3b7a4723220\";\n      let androidDeviceId = randomString(randomNum()).toLowerCase();\n      let signMsg = type + androidDeviceId;\n      if (this.state.type === \"mobile\") {\n        signMsg = phone + signMsg;\n      }\n      let sign = this.signPriv(signMsg, pri_key);\n      let params = {\n        mobile: phone,\n        type: type,\n        deviceId: androidDeviceId,\n        sign: sign\n      };\n      let codeRes = await this.getVerCode(params).catch(err => {\n        Toast.info(\"获取验证码失败，请重试！\", 1);\n      });\n      if (codeRes && codeRes[\"status\"] === 0) {\n        Toast.info(\"验证码发送成功！\", 1);\n        //开始倒计时\n        that.timegogo();\n      } else if (codeRes && codeRes[\"status\"] === -3) {\n        Toast.info(\"该手机号已注册！\", 1);\n      } else {\n        Toast.info(\"验证码发送失败！\", 1);\n      }\n    } else {\n      Toast.info(\"手机号格式错误，请重新输入！\", 1);\n    }\n  };\n\n  //验证码倒计时\n  timegogo = () => {\n    let that = this;\n    that.timeBack = setTimeout(() => {\n      let { backtimer } = that.state;\n      backtimer--;\n      // console.log(backtimer);\n      that.setState(\n        {\n          CodeTitle: backtimer + \"s\",\n          backtimer: backtimer,\n          disabledCode: true\n        },\n        () => {\n          if (backtimer >= 2) {\n            that.timegogo();\n          } else {\n            that.setState({\n              CodeTitle: \"重发验证码\",\n              backtimer: 60,\n              disabledCode: false\n            });\n            clearTimeout(that.timeBack);\n          }\n        }\n      );\n    }, 1000);\n  };\n\n  //获取验证码\n  getVerCode = params => {\n    let url = \"/user/api/verifyCode\";\n    return xFetch(url, {\n      method: \"POST\",\n      body: params\n    })\n      .then(res => {\n        return Promise.resolve(res);\n      })\n      .catch(err => {\n        return Promise.reject(err);\n      });\n  };\n\n  //验证验证码是否正确\n  vertifyVertifyCode = params => {\n    let url = \"/user/api/validate\";\n    return xFetch(url, {\n      method: \"POST\",\n      body: params\n    })\n      .then(res => {\n        console.log(\"验证验证码成功\", res);\n        return Promise.resolve(res);\n      })\n      .catch(err => {\n        console.log(\"验证验证码失败\", err);\n        return Promise.reject(err);\n      });\n  };\n\n  //验证邀请码是否正确\n  vertifyInvitateCode = params => {\n    let url = \"/user/api/validateParent\";\n    return xFetch(url, {\n      method: \"GET\",\n      params: params\n    })\n      .then(res => {\n        console.log(\"邀请码验证成功\", res);\n        return Promise.resolve(res);\n      })\n      .catch(err => {\n        console.log(\"邀请码验证失败\", err);\n        return Promise.reject(err);\n      });\n  };\n\n  //注册账号\n  registerAccount = params => {\n    let url = \"/user/api/register\";\n    return xFetch(url, {\n      method: \"POST\",\n      body: params\n    })\n      .then(res => {\n        console.log(\"注册成功\", res);\n        return Promise.resolve(res);\n      })\n      .catch(err => {\n        console.log(\"注册失败\", err);\n        return Promise.reject(err);\n      });\n  };\n\n  hideKeyboard = e => {\n  };\n\n  register = async e => {\n    e.preventDefault();\n    //safiri\n    if (\n      window &&\n      window.document &&\n      window.document.body &&\n      window.document.body.style\n    )\n      window.document.body.style.overflow = \"hidden\";\n    //chrome\n    if (document && document.body && document.body.style)\n      document.body.style.overflow = \"hidden\";\n    //火狐\n    if (document && document.documentElement && document.documentElement.style)\n      document.documentElement.style.overflow = \"hidden\";\n    let that = this;\n    let { phone, vertiCode, password, inviteCode } = this.state;\n    if (phone && CHECKPHONE.test(phone)) {\n      //手机号验证通过\n      //验证密码格式\n      if (\n        password &&\n        password.length >= 6 &&\n        /^[a-zA-Z0-9]{6,16}$/.test(password)\n      ) {\n        //密码格式正确\n        //验证验证码\n        let type = \"1\";\n        let params = { mobile: phone, code: vertiCode, type: type };\n        let verVerCodeRes = await this.vertifyVertifyCode(params).catch(err => {\n          Toast.info(\"验证码校验失败！\", 1);\n        });\n        if (\n          verVerCodeRes &&\n          verVerCodeRes[\"status\"] === 0 &&\n          verVerCodeRes[\"result\"]\n        ) {\n          //验证码验证成功\n          //验证邀请码\n          if (!(inviteCode && /^\\d+$/.test(inviteCode))) {\n            Toast.info(\"请输入正确的邀请码！\", 1);\n            return;\n          }\n          let verInviCodeRes = await this.vertifyInvitateCode({\n            parent: inviteCode\n          }).catch(err => {\n            return false;\n          });\n          if (verInviCodeRes && verInviCodeRes[\"status\"] === 0) {\n            if (!verInviCodeRes[\"result\"]) {\n              Toast.info(\"该邀请码不存在！\", 1);\n            } else {\n              //验证码和邀请码均正确，发送请求\n              let paramsRegister = {\n                mobile: phone,\n                parent: Number(inviteCode),\n                code: Number(vertiCode),\n                password: password\n              };\n              let registerRes = await this.registerAccount(\n                paramsRegister\n              ).catch(err => {\n                Toast.info(\"注册失败，请稍后重试！\", 1);\n              });\n              if (\n                registerRes &&\n                registerRes[\"status\"] === 0 &&\n                registerRes[\"result\"]\n              ) {\n                //跳转到设置昵称\n                that.props.history.push({\n                  pathname: \"/static/mobile/bqxq/name\",\n                  state: { token: registerRes[\"result\"], phone: phone }\n                });\n              }\n              if (registerRes && registerRes[\"status\"] === -1) {\n                Toast.info(\"注册账户失败\", 1);\n              }\n            }\n          }\n        } else {\n          Toast.info(\"验证码输入错误，请重新输入!\", 1);\n        }\n      } else {\n        Toast.info(\"请输入 6-16 位字符作为密码\", 1);\n      }\n    } else {\n      Toast.info(\"手机号格式错误，请重新输入\", 1);\n    }\n  };\n\n  download = () => {\n    window.location.href = \"https://wkzx.store/Daik\";\n  };\n\n  changeType = () => {\n    this.setState({\n      type: this.state.type === \"mobile\" ? \"email\" : \"mobile\",\n      phone: \"\"\n    });\n  };\n\n  componentWillUnmount() {\n    clearTimeout(this.timeBack);\n    clearTimeout(this.perNameTime);\n  }\n\n  render() {\n    let {\n      phone,\n      vertiCode,\n      password,\n      inviteCode,\n      CodeTitle,\n      disabledCode,\n      editable,\n      type\n    } = this.state;\n    let disabled = phone && vertiCode && password ? false : true;\n    let background = phone && vertiCode && password ? \"#2e5ef5\" : \"#ccc\";\n    return (\n      <div>\n        <div className=\"mul-container\">\n          <div className=\"mul-header-one\" />\n          <div className=\"mul-header\" />\n          <div className=\"mul-input\">\n            <List className=\"mul-list\">\n              {/* antd-mobile中的inputitem必须在list的包裹下 */}\n              <div className=\"mul-mobile-input\">\n                <InputItem\n                  className=\"mul-input-item\"\n                  type={type === \"mobile\" ? \"number\" : \"email\"}\n                  placeholder={\n                    type === \"mobile\" ? \"输入手机号码\" : \"输入邮箱地址\"\n                  }\n                  value={phone}\n                  onBlur={this.hideKeyboard}\n                  moneyKeyboardWrapProps={moneyKeyboardWrapProps}\n                  onChange={pho => this.getPhone(pho)}\n                />\n                <p className=\"mul-mobile-text\" onClick={this.changeType}>\n                  {type === \"mobile\" ? \"切换邮箱注册\" : \"切换手机注册\"}\n                </p>\n              </div>\n\n              <div className=\"mul-Code\">\n                <InputItem\n                  className=\"mul-Code-input\"\n                  type=\"number\"\n                  placeholder=\"输入验证码\"\n                  value={vertiCode}\n                  maxLength={6}\n                  moneyKeyboardWrapProps={moneyKeyboardWrapProps}\n                  onChange={vertiCode => this.getVertiCode(vertiCode)}\n                  onBlur={this.hideKeyboard}\n                />\n                <p\n                  className=\"mul-Code-text\"\n                  onClick={disabledCode ? () => {} : this.getCodeMsg}\n                  style={{\n                    color: disabledCode ? \"#ccc\" : \"#2e5ef5\"\n                  }}\n                >\n                  {CodeTitle}\n                </p>\n              </div>\n              <InputItem\n                className=\"mul-input-item\"\n                type=\"password\"\n                placeholder=\"设置 6-16 位登录密码\"\n                value={password}\n                maxLength={16}\n                moneyKeyboardWrapProps={moneyKeyboardWrapProps}\n                onChange={password => this.getPassword(password)}\n                onBlur={this.hideKeyboard}\n              />\n              <InputItem\n                className=\"mul-input-item\"\n                type=\"number\"\n                placeholder=\"填写邀请码\"\n                value={inviteCode}\n                editable={editable}\n                moneyKeyboardWrapProps={moneyKeyboardWrapProps}\n                onChange={inviteCode => this.getInviteCode(inviteCode)}\n                onBlur={this.hideKeyboard}\n              />\n            </List>\n          </div>\n          <div\n            onClick={disabled ? () => {} : this.register}\n            className=\"mul-button\"\n            style={{ background: background }}\n          >\n            <p>立即注册</p>\n          </div>\n          <div className=\"mul-footer\">\n            <p className=\"mul-footer-text\">购买星球领取 1% 收益</p>\n          </div>\n          <div\n            className=\"mul-dw\"\n            style={{ height: isIphoneX ? \"2.4rem\" : \"1.6rem\" }}\n          >\n            <p className=\"mul-dw-text\">点此下载币趣星球</p>\n            <div className=\"mul-dw-btn\" onClick={this.download}>\n              立即下载\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Multiplanet;\n","import React, { Component } from \"react\";\nimport \"../../../style/multiplanet.less\";\nimport { InputItem, List, Toast } from \"antd-mobile\";\nimport { xFetch } from \"../../../utils/xfetch\";\nimport { is_weixn, is_inqq } from \"../../../utils/mUtils\";\n\nconst isIPhone = new RegExp(\"\\\\biPhone\\\\b|\\\\biPod\\\\b\", \"i\").test(\n  window.navigator.userAgent\n);\nlet moneyKeyboardWrapProps;\nif (isIPhone) {\n  moneyKeyboardWrapProps = {\n    onTouchStart: e => e.preventDefault()\n  };\n}\n\nclass SetName extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      perName: \"\",\n      noBrow: false,\n      showmodal: false,\n      dwTitle: \"立即下载\",\n      color: \"#ffffff\",\n      backgroundColor: \"#2e5ef5\"\n    };\n    this.perNameTime = null;\n  }\n\n  componentDidMount() {\n    document.title = \"注册币趣星球\";\n    var link = document.createElement(\"link\");\n    link.type = \"image/x-icon\";\n    link.rel = \"shortcut icon\";\n    link.href = \"superplanet.png\";\n    document.getElementsByTagName(\"head\")[0].appendChild(link);\n  }\n\n  //获取个人昵称\n  getPerName = perName => {\n    this.setState({ perName });\n  };\n\n  doSome = async () => {\n    let { perName } = this.state;\n    let params = { nickname: perName };\n    let paramstoken = { token: this.props.location.state.token };\n    let verPerNameRes = await this.setNickName(params, paramstoken).catch(\n      err => {\n        Toast.info(\"设置昵称失败\", 1);\n      }\n    );\n    if (\n      verPerNameRes &&\n      verPerNameRes[\"status\"] === 0 &&\n      verPerNameRes[\"result\"]\n    ) {\n      Toast.info(\"您已成功设置昵称\", 1);\n      this.setState({ showmodal: true });\n    } else if (verPerNameRes[\"status\"] === -5) {\n      Toast.info(\"登录已过期\", 1);\n    } else {\n      Toast.info(\"此昵称已被占有\", 1);\n    }\n  };\n\n  //设置昵称\n  setNickName = (params, token) => {\n    let url = \"/user/api/update/nickname\";\n    return xFetch(url, {\n      method: \"POST\",\n      body: params,\n      headers: token\n    })\n      .then(res => {\n        console.log(\"设置昵称成功\", res);\n        return Promise.resolve(res);\n      })\n      .catch(err => {\n        console.log(\"设置昵称失败\", err);\n        return Promise.reject(err);\n      });\n  };\n\n  componentWillUnmount() {\n    clearTimeout(this.perNameTime);\n  }\n\n  closeModal = e => {\n    this.setState({ showmodal: false });\n    e.preventDefault();\n    //safiri\n    if (\n      window &&\n      window.document &&\n      window.document.body &&\n      window.document.body.style\n    )\n      window.document.body.style.overflow = \"scroll\";\n    //chrome\n    if (document && document.body && document.body.style)\n      document.body.style.overflow = \"scroll\";\n    //火狐\n    if (document && document.documentElement && document.documentElement.style)\n      document.documentElement.style.overflow = \"scroll\";\n  };\n\n  download = () => {\n    window.location.href = \"https://wkzx.store/Daik\";\n  };\n\n  hideKeyboard = e => {\n    // console.log(\"11\");\n    // e.preventDefault();\n    //safiri\n    if (window && window.document && window.document.body)\n      window.document.body.scrollTop = 0;\n    //chrome\n    if (document && document.body) document.body.scrollTop = 0;\n    //火狐\n    if (document && document.documentElement)\n      document.documentElement.scrollTop = 0;\n  };\n\n  render() {\n    let { perName, showmodal, color, backgroundColor, dwTitle } = this.state;\n    let phone = \"***\";\n    if (this.props.location && this.props.location.state) {\n      phone = this.props.location.state.phone;\n    }\n    let disabled = perName ? false : true;\n    let background = perName ? \"#2e5ef5\" : \"#ccc\";\n    let visibility = showmodal ? \"visible\" : \"hidden\";\n    return (\n      <div>\n        <div\n          className=\"mul-container\"\n          style={{ filter: showmodal ? \"blur(5px)\" : \"blur(0px)\" }}\n        >\n          <div className=\"mul-header-one\" />\n          <div className=\"mul-header\" />\n          <div className=\"mul-input\">\n            <p className=\"success-title\">账户注册成功</p>\n            <p className=\"success-text\">\n              {\"为您账户 \" + phone + \" 设置一个专属昵称吧\"}\n            </p>\n            <List className=\"mul-list\">\n              {/* antd-mobile中的inputitem必须在list的包裹下 */}\n              <InputItem\n                className=\"mul-input-item-success\"\n                type=\"text\"\n                placeholder=\"请输入 1-8 位字符\"\n                value={perName}\n                moneyKeyboardWrapProps={moneyKeyboardWrapProps}\n                onChange={perName => this.getPerName(perName)}\n                onBlur={this.hideKeyboard}\n              />\n            </List>\n          </div>\n          <div\n            onClick={disabled ? () => {} : this.doSome}\n            className=\"mul-button-success\"\n            style={{ background: background }}\n          >\n            <p>完成</p>\n          </div>\n        </div>\n        <div className=\"mul-modal\" style={{ visibility: visibility }}>\n          <div className=\"mul-modal-dw\">\n            <div className=\"mul-modal-dw-text\">\n              <p>账户注册成功</p>\n              <p>下载币趣星球App</p>\n              <p className=\"dddd\">购买星球领取1%收益</p>\n              <p>日返1%</p>\n            </div>\n            <p\n              className=\"mul-modal-dw-btn\"\n              style={{\n                color: color,\n                backgroundColor: backgroundColor\n              }}\n              onClick={this.download}\n            >\n              {dwTitle}\n            </p>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default SetName;\n","// 'use strict';\nimport { combineReducers } from \"redux\";\n\n//初始化数据；\nlet initialState = {\n  data: [],\n  init: true\n};\n\nfunction dice(state = initialState, action) {\n  switch (action.type) {\n    case \"GetListSuccess\":\n      return Object.assign({}, state, {\n        data: action.data[\"result\"],\n        init: false\n      });\n    default:\n      return state;\n  }\n}\n\n//合并所有的reducer\nconst rootReducer = combineReducers({\n  dice\n});\nexport default rootReducer;\n","import { createStore, applyMiddleware } from \"redux\";\nimport thunk from \"redux-thunk\";\nimport rootReducer from \"../reducers/reducer/index\";\n\nconst createStoreWithMiddleware = applyMiddleware(thunk)(createStore);\n\nexport default function configureStore(initialState) {\n  const store = createStoreWithMiddleware(rootReducer, initialState);\n  return store;\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\n// import registerServiceWorker from './registerServiceWorker';\n// 全局注入store，页面传参都要用到store\nimport { Provider } from \"react-redux\";\n// 获取store实例\nimport configureStore from \"./store/configer\";\nimport { BrowserRouter as Router, Route } from \"react-router-dom\";\nimport { createBrowserHistory } from \"history\";\nimport Multiplanet from \"./pages/mobile/multiplanet/index\";\nimport SetName from \"./pages/mobile/multiplanet/setName\";\n\nconst customHistory = createBrowserHistory();\n\nglobal.store = configureStore();\n\nReactDOM.render(\n  <Provider store={global.store}>\n    <Router history={customHistory}>\n      <Route path=\"/\" />\n      <Route path=\"/static/mobile/bqxq/index\" component={Multiplanet} />\n      <Route path=\"/static/mobile/bqxq/name\" component={SetName} />\n    </Router>\n  </Provider>,\n  document.getElementById(\"root\")\n);\n\n// registerServiceWorker();\n","/**\n * fetch 封装；\n * */\n\nimport { Toast } from \"antd-mobile\";\n\n// import {fetch} from 'whatwg-fetch'\n\nfunction setUriParam(keys, value, keyPostfix) {\n  let keyStr = keys[0];\n\n  keys.slice(1).forEach(key => {\n    keyStr += `[${key}]`;\n  });\n\n  if (keyPostfix) {\n    keyStr += keyPostfix;\n  }\n\n  return `${encodeURIComponent(keyStr)}=${encodeURIComponent(value)}`;\n}\n\nfunction getUriParam(keys, object) {\n  const array = [];\n  //参数的值是数组\n  if (object instanceof Array) {\n    object.forEach((value, index) => {\n      array.push(setUriParam(keys, value, `[${index}]`));\n    });\n    //参数的值是对象；\n  } else if (object instanceof Object) {\n    for (const key in object) {\n      if (object.hasOwnProperty(key)) {\n        const value = object[key];\n        //递归处理提交的参数类型以达到对应的格式；\n        array.push(getUriParam(keys.concat(key), value));\n      }\n    }\n  } else {\n    //参数不为空；\n    if (object !== undefined) {\n      array.push(setUriParam(keys, object));\n    }\n  }\n\n  return array.join(\"&\");\n}\n\nfunction toQueryString(object) {\n  const array = [];\n\n  for (const key in object) {\n    if (object.hasOwnProperty(key)) {\n      const str = getUriParam([key], object[key]);\n\n      if (str !== \"\") {\n        array.push(str);\n      }\n    }\n  }\n  //得到最终的query形式的参数结构；\n  return array.join(\"&\");\n}\n\nfunction check404(res) {\n  if (res.status && res.status === 404) {\n    // Toast.info(\"当前页面资源不存在\",1);\n    return Promise.reject(res.status);\n  }\n  return res;\n}\n\nfunction check500(res) {\n  if (res.status && res.status === 500) {\n    // Toast.info(\"服务器异常错误\",1);\n    return Promise.reject(res.status);\n  }\n  return res;\n}\n\nfunction check200(res) {\n  // console.log(\"ressss\", res, res.clone().json(), res.headers.get('Content-Type'));\n  return res\n    .clone()\n    .json()\n    .then(function(data) {\n      // console.log('请求的初始数据+++++',data,res);\n      if (res.status && res.status >= 200 && res.status < 300) {\n        // if (data.msg) {\n        //     Toast.info(data.msg,1);\n        // }\n        // console.log(\"http请求返回数据：\", data);\n        return data;\n      } else {\n        if (data.error) {\n          // Toast.info(data.error,1);\n          // console.log(\"请求报错：\", data.error)\n        }\n        return Promise.reject(data);\n      }\n    });\n}\n\nexport async function xFetch(url, options) {\n  let mergeUrl = url;\n  //默认的options\n  const defaultOptions = {\n    method: \"GET\",\n    mode: \"cors\",\n    credentials: \"include\"\n  };\n\n  if (typeof mergeUrl == \"object\") {\n    return new Promise(function(resolve, reject) {\n      setTimeout(function() {\n        resolve(mergeUrl);\n      });\n    });\n  }\n  //合并默认以及输入的options;\n  const opts = Object.assign({}, defaultOptions, { ...options });\n  //单独处理get请求\n  if (opts && opts.method == \"GET\" && opts[\"params\"]) {\n    mergeUrl = mergeUrl + \"?\" + toQueryString(opts[\"params\"]);\n  }\n\n  opts.headers = {\n    ...opts.headers,\n    pragma: \"no-cache\",\n    \"cache-control\": \"no-cache\",\n    Accept: \"application/json\",\n    \"Content-Type\": \"application/json\"\n  };\n\n  if (opts.body) {\n    opts.body = JSON.stringify(opts.body);\n  }\n  console.log(\"检查url-------\", mergeUrl);\n  console.log(\"查看opts参数（body）--------\", opts);\n  // if (opts.body.token) {\n  //     // console.log(\"opts\", opts);\n  //     opts.headers[\"token\"] = opts.body.token;\n  // };\n\n  return Promise.race([\n    fetch(mergeUrl, opts),\n    new Promise(function(resolve, reject) {\n      setTimeout(() => reject(new Error(\"request timeout\")), 20 * 1000);\n    }) // 超时处理\n  ])\n    .then(res => check404(res))\n    .then(check500)\n    .then(check200)\n    .catch(error => {\n      //如果超时 这里面的错误就是 request timeout\n      // console.log(\"fetch error :\", error, url)\n      if (error == \"Error: request timeout\") {\n        Toast.info(\"请求超时\", 1);\n      } else if (error == \"TypeError: Network request failed\") {\n        // Toast.info(\"请求失败\",1)\n      } else if (error === 401 || error === 433) {\n      } else if (error === 401 || error === 434) {\n      } else if (!error[\"status\"]) {\n        // Toast.info(\"服务器异常错误\",1)\n      }\n      if (error) {\n      }\n      return Promise.reject(error);\n    });\n}\n","/**\n * 存储localStorage\n */\nexport const setStore = (name, content) => {\n  if (!name) return;\n  if (typeof content !== \"string\") {\n    content = JSON.stringify(content);\n  }\n  window.localStorage.setItem(name, content);\n};\n\n/**\n * 获取localStorage\n */\nexport const getStore = name => {\n  if (!name) return;\n  return window.localStorage.getItem(name);\n};\n\n/**\n * 删除localStorage\n */\nexport const removeStore = name => {\n  if (!name) return;\n  window.localStorage.removeItem(name);\n};\n\n/**\n * 裁剪字符串\n */\nexport function useStar(vl = \"\") {\n  let start = vl.substr(0, 5);\n  let hideVl = vl.substr(-5, 5);\n  let showVl = start + \"***\" + hideVl;\n  return showVl;\n}\n\n/**\n * 时间戳转换1\n */\nexport function oldDateTrans(dates = \"\") {\n  let date = new Date(dates);\n  let nowCuo = new Date().valueOf();\n  let now = new Date(nowCuo);\n  let Y = date.getFullYear() + \"-\";\n  let M =\n    (date.getMonth() + 1 < 10\n      ? \"0\" + (date.getMonth() + 1)\n      : date.getMonth() + 1) + \"-\";\n  let D = (date.getDate() < 10 ? \"0\" + date.getDate() : date.getDate()) + \" \";\n  let h =\n    (date.getHours() < 10 ? \"0\" + date.getHours() : date.getHours()) + \":\";\n  let m =\n    (date.getMinutes() < 10 ? \"0\" + date.getMinutes() : date.getMinutes()) +\n    \":\";\n  let s = date.getSeconds() < 10 ? \"0\" + date.getSeconds() : date.getSeconds();\n\n  let nowY = now.getFullYear() + \"-\";\n  let nowM =\n    (now.getMonth() + 1 < 10\n      ? \"0\" + (now.getMonth() + 1)\n      : now.getMonth() + 1) + \"-\";\n  let nowD = (now.getDate() < 10 ? \"0\" + now.getDate() : now.getDate()) + \" \";\n\n  if (Y === nowY) {\n    if (M === nowM) {\n      if (D === nowD) {\n        return h + m + s;\n      } else if (parseInt(D) + 1 === parseInt(nowD)) {\n        return h + m + s;\n      } else {\n        return h + m + s;\n      }\n    } else {\n      return h + m + s;\n    }\n  } else {\n    return h + m + s;\n  }\n}\n\n/**\n * 判断微信浏览器\n */\n\nexport function is_weixn() {\n  let ua = navigator.userAgent.toLowerCase();\n  if (ua.indexOf(\"micromessenger\") !== -1) {\n    return true;\n  } else {\n    return false;\n  }\n}\n\n/**\n * 判断qq内置浏览器\n */\n\nexport function is_inqq() {\n  let ua = navigator.userAgent.toLowerCase();\n  if (ua.indexOf(\"qq\") > -1 && ua.indexOf(\"mqqbrowser\") < 0) {\n    return true;\n  } else {\n    return false;\n  }\n}\n\n/**\n * 判断手机设备\n */\nexport function isIos() {\n  let ua = navigator.userAgent.toLowerCase();\n  if (/ipad|iphone|mac/i.test(ua)) {\n    return true;\n  } else {\n    return false;\n  }\n}\n\nexport function isAndroid() {\n  let ua = navigator.userAgent.toLowerCase();\n  if (ua.indexOf(\"Android\") > -1 || ua.indexOf(\"Adr\") > -1) {\n    return true;\n  } else {\n    return false;\n  }\n}\n\n//获取1-9的随机数\nexport const randomNum = () => {\n  let len = Math.ceil(Math.random() * 10);\n  return len;\n};\n//获取不定长度的字符串\nexport const randomString = len => {\n  let lens = len || 1;\n  let chars = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\";\n  let maxPos = chars.length;\n  let str = \"\";\n  for (let i = 0; i < lens; i++) {\n    str += chars.charAt(Math.floor(Math.random() * maxPos));\n  }\n  return str;\n};\n\n// 打开 APP\nexport const openApp = function(openUrl, callback) {\n  //检查app是否打开\n  function checkOpen(cb) {\n    var _clickTime = +new Date();\n\n    function check(elsTime) {\n      if (elsTime > 2000 || document.hidden || document.webkitHidden) {\n        cb(1);\n      } else {\n        cb(0);\n      }\n    }\n\n    //启动间隔20ms运行的定时器，并检测累计消耗时间是否超过3000ms，超过则结束\n    var _count = 0,\n      intHandle;\n    intHandle = setInterval(function() {\n      _count++;\n      var elsTime = +new Date() - _clickTime;\n      if (_count >= 100 || elsTime > 2000) {\n        clearInterval(intHandle);\n        check(elsTime);\n      }\n    }, 20);\n  }\n\n  //在iframe 中打开APP\n  var ifr = document.createElement(\"iframe\");\n  ifr.src = openUrl;\n  ifr.style.display = \"none\";\n  document.body.appendChild(ifr);\n  if (isIos()) {\n    //是 IOS系统就重新打开网页  IOS iframe 不可以直接调用.\n    window.location.href = openUrl;\n  }\n  checkOpen(function(opened) {\n    callback && callback(opened);\n  });\n  setTimeout(function() {\n    document.body.removeChild(ifr);\n  }, 2000);\n};\n\n/**\n * 获取style样式\n */\nexport const getStyle = (element, attr, NumberMode = \"int\") => {\n  let target;\n  // scrollTop 获取方式不同，没有它不属于style，而且只有document.body才能用\n  if (attr === \"scrollTop\") {\n    target = element.scrollTop;\n  } else if (element.currentStyle) {\n    target = element.currentStyle[attr];\n  } else {\n    target = document.defaultView.getComputedStyle(element, null)[attr];\n  }\n  //在获取 opactiy 时需要获取小数 parseFloat\n  return NumberMode == \"float\" ? parseFloat(target) : parseInt(target);\n};\n\n/**\n * 页面到达底部，加载更多\n */\nexport const loadMore = (element, callback) => {\n  let windowHeight = window.screen.height;\n  let height;\n  let setTop;\n  let paddingBottom;\n  let marginBottom;\n  let requestFram;\n  let oldScrollTop;\n\n  document.body.addEventListener(\n    \"scroll\",\n    () => {\n      loadMore();\n    },\n    false\n  );\n  //运动开始时获取元素 高度 和 offseTop, pading, margin\n  element.addEventListener(\n    \"touchstart\",\n    () => {\n      height = element.offsetHeight;\n      setTop = element.offsetTop;\n      paddingBottom = getStyle(element, \"paddingBottom\");\n      marginBottom = getStyle(element, \"marginBottom\");\n    },\n    { passive: true }\n  );\n\n  //运动过程中保持监听 scrollTop 的值判断是否到达底部\n  element.addEventListener(\n    \"touchmove\",\n    () => {\n      loadMore();\n    },\n    { passive: true }\n  );\n\n  //运动结束时判断是否有惯性运动，惯性运动结束判断是非到达底部\n  element.addEventListener(\n    \"touchend\",\n    () => {\n      oldScrollTop = document.body.scrollTop;\n      moveEnd();\n    },\n    { passive: true }\n  );\n\n  const moveEnd = () => {\n    requestFram = requestAnimationFrame(() => {\n      if (document.body.scrollTop != oldScrollTop) {\n        oldScrollTop = document.body.scrollTop;\n        loadMore();\n        moveEnd();\n      } else {\n        cancelAnimationFrame(requestFram);\n        //为了防止鼠标抬起时已经渲染好数据从而导致重获取数据，应该重新获取dom高度\n        height = element.offsetHeight;\n        loadMore();\n      }\n    });\n  };\n\n  const loadMore = () => {\n    if (\n      document.body.scrollTop + windowHeight >=\n      height + setTop + paddingBottom + marginBottom\n    ) {\n      callback();\n    }\n  };\n};\n\n/**\n * 显示返回顶部按钮，开始、结束、运动 三个过程中调用函数判断是否达到目标点\n */\nexport const showBack = callback => {\n  let requestFram;\n  let oldScrollTop;\n\n  document.addEventListener(\n    \"scroll\",\n    () => {\n      showBackFun();\n    },\n    false\n  );\n  document.addEventListener(\n    \"touchstart\",\n    () => {\n      showBackFun();\n    },\n    { passive: true }\n  );\n\n  document.addEventListener(\n    \"touchmove\",\n    () => {\n      showBackFun();\n    },\n    { passive: true }\n  );\n\n  document.addEventListener(\n    \"touchend\",\n    () => {\n      oldScrollTop = document.body.scrollTop;\n      moveEnd();\n    },\n    { passive: true }\n  );\n\n  const moveEnd = () => {\n    requestFram = requestAnimationFrame(() => {\n      if (document.body.scrollTop != oldScrollTop) {\n        oldScrollTop = document.body.scrollTop;\n        moveEnd();\n      } else {\n        cancelAnimationFrame(requestFram);\n      }\n      showBackFun();\n    });\n  };\n\n  //判断是否达到目标点\n  const showBackFun = () => {\n    if (document.body.scrollTop > 500) {\n      callback(true);\n    } else {\n      callback(false);\n    }\n  };\n};\n\n/**\n * 运动效果\n * @param {HTMLElement} element   运动对象，必选\n * @param {JSON}        target    属性：目标值，必选\n * @param {number}      duration  运动时间，可选\n * @param {string}      mode      运动模式，可选\n * @param {function}    callback  可选，回调函数，链式动画\n */\nexport const animate = (\n  element,\n  target,\n  duration = 400,\n  mode = \"ease-out\",\n  callback\n) => {\n  clearInterval(element.timer);\n\n  //判断不同参数的情况\n  if (duration instanceof Function) {\n    callback = duration;\n    duration = 400;\n  } else if (duration instanceof String) {\n    mode = duration;\n    duration = 400;\n  }\n\n  //判断不同参数的情况\n  if (mode instanceof Function) {\n    callback = mode;\n    mode = \"ease-out\";\n  }\n\n  //获取dom样式\n  const attrStyle = attr => {\n    if (attr === \"opacity\") {\n      return Math.round(getStyle(element, attr, \"float\") * 100);\n    } else {\n      return getStyle(element, attr);\n    }\n  };\n  //根字体大小，需要从此将 rem 改成 px 进行运算\n  const rootSize = parseFloat(document.documentElement.style.fontSize);\n\n  const unit = {};\n  const initState = {};\n\n  //获取目标属性单位和初始样式值\n  Object.keys(target).forEach(attr => {\n    if (/[^\\d^\\.]+/gi.test(target[attr])) {\n      unit[attr] = target[attr].match(/[^\\d^\\.]+/gi)[0] || \"px\";\n    } else {\n      unit[attr] = \"px\";\n    }\n    initState[attr] = attrStyle(attr);\n  });\n\n  //去掉传入的后缀单位\n  Object.keys(target).forEach(attr => {\n    if (unit[attr] == \"rem\") {\n      target[attr] = Math.ceil(parseInt(target[attr]) * rootSize);\n    } else {\n      target[attr] = parseInt(target[attr]);\n    }\n  });\n\n  let flag = true; //假设所有运动到达终点\n  const remberSpeed = {}; //记录上一个速度值,在ease-in模式下需要用到\n  element.timer = setInterval(() => {\n    Object.keys(target).forEach(attr => {\n      let iSpeed = 0; //步长\n      let status = false; //是否仍需运动\n      let iCurrent = attrStyle(attr) || 0; //当前元素属性址\n      let speedBase = 0; //目标点需要减去的基础值，三种运动状态的值都不同\n      let intervalTime; //将目标值分为多少步执行，数值越大，步长越小，运动时间越长\n      switch (mode) {\n        case \"ease-out\":\n          speedBase = iCurrent;\n          intervalTime = (duration * 5) / 400;\n          break;\n        case \"linear\":\n          speedBase = initState[attr];\n          intervalTime = (duration * 20) / 400;\n          break;\n        case \"ease-in\":\n          let oldspeed = remberSpeed[attr] || 0;\n          iSpeed = oldspeed + (target[attr] - initState[attr]) / duration;\n          remberSpeed[attr] = iSpeed;\n          break;\n        default:\n          speedBase = iCurrent;\n          intervalTime = (duration * 5) / 400;\n      }\n      if (mode !== \"ease-in\") {\n        iSpeed = (target[attr] - speedBase) / intervalTime;\n        iSpeed = iSpeed > 0 ? Math.ceil(iSpeed) : Math.floor(iSpeed);\n      }\n      //判断是否达步长之内的误差距离，如果到达说明到达目标点\n      switch (mode) {\n        case \"ease-out\":\n          status = iCurrent != target[attr];\n          break;\n        case \"linear\":\n          status =\n            Math.abs(Math.abs(iCurrent) - Math.abs(target[attr])) >\n            Math.abs(iSpeed);\n          break;\n        case \"ease-in\":\n          status =\n            Math.abs(Math.abs(iCurrent) - Math.abs(target[attr])) >\n            Math.abs(iSpeed);\n          break;\n        default:\n          status = iCurrent != target[attr];\n      }\n\n      if (status) {\n        flag = false;\n        //opacity 和 scrollTop 需要特殊处理\n        if (attr === \"opacity\") {\n          element.style.filter = \"alpha(opacity:\" + (iCurrent + iSpeed) + \")\";\n          element.style.opacity = (iCurrent + iSpeed) / 100;\n        } else if (attr === \"scrollTop\") {\n          element.scrollTop = iCurrent + iSpeed;\n        } else {\n          element.style[attr] = iCurrent + iSpeed + \"px\";\n        }\n      } else {\n        flag = true;\n      }\n\n      if (flag) {\n        clearInterval(element.timer);\n        if (callback) {\n          callback();\n        }\n      }\n    });\n  }, 20);\n};\n\nexport const awaitData = string => {\n  (function() {\n    function awaitPostMessage() {\n      var isReactNativePostMessageReady = !!window.originalPostMessage;\n      var queue = [];\n      var currentPostMessageFn = function store(message) {\n        if (queue.length > 100) queue.shift();\n        queue.push(message);\n      };\n      if (!isReactNativePostMessageReady) {\n        var originalPostMessage = window.postMessage;\n        Object.defineProperty(window, \"postMessage\", {\n          configurable: true,\n          enumerable: true,\n          get: function() {\n            return currentPostMessageFn;\n          },\n          set: function(fn) {\n            currentPostMessageFn = fn;\n            isReactNativePostMessageReady = true;\n            setTimeout(sendQueue, 0);\n          }\n        });\n        window.postMessage.toString = function() {\n          return String(originalPostMessage);\n        };\n      }\n\n      function sendQueue() {\n        while (queue.length > 0) window.postMessage(queue.shift());\n      }\n    }\n\n    awaitPostMessage(); // Call this only once in your Web Code.\n    window.postMessage(string);\n  })();\n};\n\n//千位数字切割\nexport const formatNum = num => {\n  return num.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\n};\n"],"sourceRoot":""}